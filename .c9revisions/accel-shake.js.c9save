{"ts":1340893681918,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"document.addEventListener(\"deviceready\", function () {\n    var options = { frequency: 100 };\n    var prevX = 1.0;\n    var threshold = 0.3;\n    \n    var onStartShake = function() {\n        $(\"#shakin\").fadeIn();\n    };\n    \n    var onStopShake = function () {\n        $(\"#shakin\").fadeOut();\n    };\n    \n    \n    var _shakeTimeout;\n    var onShake = function () {\n        onStartShake();\n        \n        if (_shakeTimeout) {\n            clearTimeout(_shakeTimeout);\n        }\n        \n        _shakeTimeout = setTimeout(function () {\n            onStopShake();\n            _shakeTimeout = null;\n        }, 500);\n    };\n    \n    var onSuccess = function(acc) {\n        if (true === acc.is_updating) {\n            return;\n        }\n        var diffX = Math.abs(acc.x) - prevX;\n\n        if (diffX >= threshold) {\n            onShake();\n        }\n        prevX = Math.abs(acc.x);\n    };\n    \n    var onError = function (err) {\n        console.error(\"oh noes\", err);\n    };\n    \n    navigator.accelerometer.watchAcceleration(onSuccess, onError, options);\n});"]],"start1":0,"start2":0,"length1":0,"length2":1053}]],"length":1053}
